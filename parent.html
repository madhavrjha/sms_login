<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/4.6.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css" />

  <link rel="stylesheet" href="./css/style.css">

  <title>Option | NextSchool</title>
</head>

<body>


  <div class="box">


    <header>
      <img src="https://schoolmanagement.co.za/sms/public/uploads/settings/8967914b0e044c92cbb39557beb8f1d6.png"
        height="50px">
      <p class="text-slogan">Digitally Transforming Every School</p>
      <h2><i class="fa-solid fa-child fa-2x"></i> Login as Parent</h2>
    </header>

    <!-- Parent Login Box -->
    <section class="login-box" id="parent-login-box">

      <!-- Parent Login Form for Phone Number -->
      <form action="" id="parent-login-form">
        <label for="">Learner's DOB</label>
        <input type="date">

        <label for="">Parent's DOB</label>
        <input type="date">
        <!-- Captcha will be Here -->

        <!-- Error Message [Hidden] -->
        <p class="alert alert-danger hidden">Unregistered Phone Number</p>

        <button type="submit">Next</button>
      </form>

      <!-- Parent OTP Form -->
      <form action="" id="parent-otp-form" class="hidden">
        <label for="phone">PIN*</label>
        <input type="text" placeholder="Enter PIN">

        <!-- Error Message [Hidden] -->
        <p class="mt-1 alert alert-danger hidden"></p>

        <button type="submit">Verify PIN</button>
      </form>




      <article>
        <span>not registered? <a href="#" id="parent-register-btn">click here to register</a></span>
        <p>OR</p>
        <a href="./staff.html"><span>login as staff</span></a>
      </article>

    </section>

    <!-- parent Registration Box -->
    <section class="login-box register hidden" id="parent-register-box">
      <form action="">
        <label for="phone">Parent National Identity Number:</label>
        <input type="text" placeholder="Parent National ID Number">

        <label for="phone">Learner National Identity Number:</label>
        <input type="text" placeholder="Learner National ID Number">

        <button type="submit">Register</button>
      </form>

      <article>
        <span>already registered? <a href="#" id="parent-login-btn">click here to login</a></span>
      </article>

    </section>



    <footer>
      &copy; 2022, NextNow Group (Pty) Ltd, all rights reserved.
    </footer>

  </div>


  <script>
    // Switching Tab from Registration and LogIn

    const parentRegisterBtn = document.querySelector('#parent-register-btn');
    const parentLoginBtn = document.querySelector('#parent-login-btn');
    const parentRegisterBox = document.querySelector('#parent-register-box');
    const parentLoginBox = document.querySelector('#parent-login-box');
    const headerTitle = document.querySelector('header h2');


    parentRegisterBtn.addEventListener('click', e => {
      e.preventDefault();
      parentLoginBox.classList.add('hidden');
      parentRegisterBox.classList.remove('hidden');
      headerTitle.innerHTML = `<i class="fa-solid fa-child fa-2x"></i> Register Your Child`;
    });


    parentLoginBtn.addEventListener('click', e => {
      e.preventDefault();
      parentRegisterBox.classList.add('hidden');
      parentLoginBox.classList.remove('hidden');
      headerTitle.innerHTML = `<i class="fa-solid fa-child fa-2x"></i> Login as Parent`;
    });


    // Getting Another Form After Phone Number [Parent]

    const parentLoginForm = document.querySelector('#parent-login-form');
    const parentOTPForm = document.querySelector('#parent-otp-form');

    const inputBox = document.querySelector('#parent-login-form input');
    const OTPBox = document.querySelector('#parent-otp-form input');

    const errorBox = document.querySelector('#parent-login-form p.alert');
    const OTPErrorBox = document.querySelector('#parent-otp-form p.alert');

    const OTPSubmitBtn = document.querySelector('#parent-otp-form button');


    parentLoginForm.addEventListener('submit', e => {
      e.preventDefault();
      // Validation Code 

      let userPhoneNumber = inputBox.value;
      console.log(userPhoneNumber);

      /*
    
        Write Phone Number
        Validation Code Here
        ....
        ....
        ....
    
      */

      let hasError = false;
      let errorMessage = 'This is Dynamic Error Message';

      if (hasError) {
        errorBox.innerHTML = `${errorMessage}`;
        errorBox.classList.remove('hidden');

        // Disappear the Error Message after 5 seconds
        setTimeout(() => errorBox.classList.add('hidden'), 5000);

      }
      else {
        // Hide Login Form
        parentLoginForm.classList.add('hidden');
        document.querySelector('article span').classList.add('hidden');

        // Show OTP Form
        parentOTPForm.classList.remove('hidden');

        parentOTPForm.addEventListener('submit', e => {
          e.preventDefault();

          let OTPByUser = OTPBox.value;
          console.log(OTPByUser);

          /*
  
            Write OTP
            Validation Code Here
            ....
            ....
            ....
  
          */

          let hasError = false;
          let errorMessage = 'Invalid OTP';

          if (hasError) {
            OTPErrorBox.innerHTML = `${errorMessage}`;
            OTPErrorBox.classList.remove('hidden');

            // Disappear the Error Message after 5 seconds
            setTimeout(() => OTPErrorBox.classList.add('hidden'), 5000);
          }
          else {
            // Add Loading Icon in Submit Button
            OTPBox.setAttribute('readonly', true);
            OTPSubmitBtn.setAttribute('disabled', true);
            OTPSubmitBtn.innerHTML = `<i class="fa-solid fa-spinner rotate"></i>`;

            // Redirect to Home Page

            /*
  
              Write Login
              Validation Code Here
              ....
              ....
              ....
  
            */
          }
        });
      }
    });

  </script>

  <script src="./js/main.js"></script>

</body>

</html>