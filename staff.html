<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/4.6.1/css/bootstrap.min.css">


  <link rel="stylesheet" href="./css/style.css">

  <title>Option | NextSchool</title>
</head>

<body>


  <div class="box">

    <header>
      <img src="https://schoolmanagement.co.za/sms/public/uploads/settings/8967914b0e044c92cbb39557beb8f1d6.png"
        height="50px">
      <p class="text-slogan">Digitally Transforming Every School</p>
      <h2><i class="fa-solid fa-briefcase fa-2x"></i> Login as Staff</h2>
    </header>

    <section class="login-box">

      <!-- Staff Login Form for Phone Number -->
      <form action="" id="staff-login-form">
        <label for="role">Role*</label>
        <select name="" id="">
          <option value="">Choose..</option>
          <option value="">Principal</option>
          <option value="">Teacher</option>
        </select>

        <label for="staff-dob">Date Of Birth*</label>
        <input type="date" name="" id="">

        <!-- Captcha will be Here -->

        <!-- Error Message [Hidden] -->
        <p class="alert alert-danger hidden">Unregistered Phone Number</p>
        <button type="submit">Submit</button>
      </form>

      <!-- Staff OTP Form -->
      <form action="" id="staff-otp-form" class="hidden">
        <label for="phone">PIN*</label>
        <input type="text" placeholder="Enter PIN">


        <!-- Error Message [Hidden] -->
        <p class="mt-1 alert alert-danger hidden"></p>

        <button type="submit">Verify PIN</button>
      </form>


      <article>
        <p>OR</p>
        <a href="./parent.html"><span>login as parent</span></a>
      </article>

    </section>



    <footer>
      &copy; 2022, NextNow Group (Pty) Ltd, all rights reserved.
    </footer>

  </div>

  <script>


    // Getting Another Form After Phone Number [Parent]

    const staffLoginForm = document.querySelector('#staff-login-form');
    const staffOTPForm = document.querySelector('#staff-otp-form');

    const staffInputBox = document.querySelector('#staff-login-form input');
    const staffOTPBox = document.querySelector('#staff-otp-form input');

    const staffErrorBox = document.querySelector('#staff-login-form p.alert');
    const staffOTPErrorBox = document.querySelector('#staff-otp-form p.alert');

    const staffOTPSubmitBtn = document.querySelector('#staff-otp-form button');



    staffLoginForm.addEventListener('submit', e => {
      e.preventDefault();
      // Validation Code 

      let userPhoneNumber = staffInputBox.value;
      console.log(userPhoneNumber);

      /*
    
        Write Phone Number
        Validation Code Here
        ....
        ....
        ....
    
      */

      let hasError = false;
      let errorMessage = 'This is Dynamic Error Message';

      if (hasError) {
        staffErrorBox.innerHTML = `${errorMessage}`;
        staffErrorBox.classList.remove('hidden');

        // Disappear the Error Message after 5 seconds
        setTimeout(() => staffErrorBox.classList.add('hidden'), 5000);

      }
      else {
        // Hide Login Form
        staffLoginForm.classList.add('hidden');
        document.querySelector('article span').classList.add('hidden');

        // Show OTP Form
        staffOTPForm.classList.remove('hidden');

        staffOTPForm.addEventListener('submit', e => {
          e.preventDefault();

          let OTPByUser = staffOTPBox.value;
          console.log(OTPByUser);

          /*
  
            Write OTP
            Validation Code Here
            ....
            ....
            ....
  
          */

          let hasError = false;
          let errorMessage = 'Invalid OTP';

          if (hasError) {
            staffOTPErrorBox.innerHTML = `${errorMessage}`;
            staffOTPErrorBox.classList.remove('hidden');

            // Disappear the Error Message after 5 seconds
            setTimeout(() => staffOTPErrorBox.classList.add('hidden'), 5000);
          }
          else {
            // Add Loading Icon in Submit Button
            staffOTPBox.setAttribute('readonly', true);
            staffOTPSubmitBtn.setAttribute('disabled', true);
            staffOTPSubmitBtn.innerHTML = `<i class="fa-solid fa-spinner rotate"></i>`;

            // Redirect to Home Page

            /*
  
              Write Login
              Validation Code Here
              ....
              ....
              ....
  
            */
          }
        });
      }
    });


  </script>

  <script src="./js/main.js"></script>

</body>

</html>